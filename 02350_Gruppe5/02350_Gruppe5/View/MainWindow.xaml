<Window x:Class="_02350_Gruppe5.View.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:Model="clr-namespace:_02350_Gruppe5.Model;assembly=02350_Gruppe5.Model"
        xmlns:View="clr-namespace:_02350_Gruppe5.View"
        xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
        xmlns:cmd="clr-namespace:GalaSoft.MvvmLight.Command;assembly=GalaSoft.MvvmLight.Extras.WPF4"
        DataContext="{Binding Source={StaticResource Locator}, Path=Main}"
        Title="02350_Gruppe5" Height="600" Width="800">
        <!--Ovenover (DataContext="") bindes vinduet til MainViewModel ved hjælp af MVVM Light Toolkits ViewModelLocator.-->
        <!--Derudover defineres de namespaces der skal benyttes ligesom det gøres med Using statements i C# koden.-->
    <Window.Resources>

        <!-- Dette DataTemplate fortæller vinduet hvordan Node klassen skal vises grafisk. Denne grafiske beskrivelse er samlet i NodeUserControl. -->
        <DataTemplate DataType="{x:Type Model:ClassBox}">
            
            <Canvas>
                <View:ClassUserControl/>
            </Canvas>
        </DataTemplate>
        <!-- Dette DataTemplate fortæller vinduet hvordan Edge klassen skal vises grafisk. Denne grafiske beskrivelse er samlet i EdgeUserControl. -->
        <DataTemplate DataType="{x:Type Model:Edge}">
            <Canvas>
                <View:EdgeUserControl/>
            </Canvas>
        </DataTemplate>
    </Window.Resources>
    <Window.InputBindings>
        <KeyBinding Command="{Binding CopyClassCommand}" Gesture="CTRL+c"/>
        <KeyBinding Command="{Binding PasteClassCommand}" Gesture="CTRL+v"/>
        <KeyBinding Command="{Binding RemoveClassCommand}" Gesture="Delete"/>
    </Window.InputBindings>
    <DockPanel>
        <DockPanel.ContextMenu>
            
                <ContextMenu>
                    <MenuItem Header="Copy" Command="{Binding CopyClassCommand}"  />
                    <MenuItem Header="Paste"  Command="{Binding PasteClassCommand}"/>
                    <Separator />
                    <MenuItem Header="Delete"  Command="{Binding RemoveClassCommand}"/>
                </ContextMenu>
            
        </DockPanel.ContextMenu>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_File">
                <MenuItem Header="_Open" Command="ApplicationCommands.Open"/>
                <MenuItem Header="_Close"/>
                <MenuItem Header="_Save"/>
            </MenuItem>
            <MenuItem Header="_Edit">
                <MenuItem Header="_Undo"/>
                <MenuItem Header="_Redo"/>
                <MenuItem Header="_Cut" Command="ApplicationCommands.Cut"/>
                <MenuItem Header="_Copy" Command="{Binding CopyClassCommand}"/>
                <MenuItem Header="_Paste" Command="{Binding PasteClassCommand}"/>
            </MenuItem>
            <MenuItem Header="_Insert">
                <MenuItem Header="_Klasse" Command="{Binding AddClassCommand}"/>
                <MenuItem Header="_Kant" Command="{Binding AddEdgeCommand}"/>
            </MenuItem>
        </Menu>
        <Border BorderBrush="Black" BorderThickness="2,2,2,2" DockPanel.Dock="Top" Name="TopToolbar">
            <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                <Button Command="{Binding UndoCommand}" ToolTip="Undo">
                    <Image Source="pictures/undo.png" Height="25" Width="50"></Image>
                </Button>
                <Button Command="{Binding RedoCommand}" ToolTip="Redo">
                    <Image Source="pictures/redo.png" Height="25" Width="50"></Image>
                </Button>
                <Button Command="{Binding AddClassCommand}" ToolTip="Add ClassBox">
                    <Image Source="pictures/Plus_sign.png" Height="25" Width="50"></Image>
                </Button>
                <Button Command="{Binding RemoveClassCommand}" ToolTip="Remove selected ClassBox">
                    <Image Source="pictures/Delete-icon.png" Height="25" Width="50"></Image>
                </Button>
                <Button Name="Animation">
                    <Button.Triggers>
                        <EventTrigger RoutedEvent="Button.Click">
                            <EventTrigger.Actions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation
                                            Storyboard.TargetName="SideToolbar"
                                            Storyboard.TargetProperty="Width"
                                            From="0" To="80" Duration="0:0:0.5"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger.Actions>
                        </EventTrigger>      
                    </Button.Triggers>
                    <Button.Content>Animate in</Button.Content>
                </Button>
            </StackPanel>
        </Border>

        <StackPanel Orientation="Horizontal">
        <!--Her smides side panellets UserControl ind.-->
            <View:SidePanelUserControl/>
            <View:ClassBoxInfo Width="240" x:Name="ClassBoxInfo"/>
            <View:ClassBoxSidepanelUserControl Width="0" x:Name="SideToolbar"/>
            <!--Med dette grid smides indholdet af de 2 ItemsControls i hovedet på hinanden med kanterne forneden og punkterne foroven.-->
            <Grid>
                <ItemsControl ItemsSource="{Binding Edges}" />
                <ItemsControl ItemsSource="{Binding ClassBoxs}" Name="class">
                </ItemsControl>
            </Grid>
            
            
        </StackPanel>
    </DockPanel>
</Window>
